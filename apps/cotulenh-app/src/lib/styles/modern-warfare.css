/* Modern Warfare Theme for CoTuLenh */

/* Import tactical fonts */
@import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700;900&family=Rajdhani:wght@300;500;700&family=Share+Tech+Mono&display=swap');

:root {
  /* Color Palette - Tactical HUD (Amber/Teal Variant) */
  --mw-bg-dark: #0f172a;
  /* Deep Slate/Navy */
  --mw-bg-panel: rgba(15, 23, 42, 0.9);
  --mw-grid-color: rgba(0, 255, 255, 0.08);
  --mw-border-color: rgba(0, 255, 255, 0.15);

  --mw-primary: #00f3ff;
  /* Cyan Neon */
  --mw-primary-dim: rgba(0, 243, 255, 0.15);
  --mw-secondary: #00ff41;
  /* Radar Green */
  --mw-alert: #ffab00;
  /* Amber / Orange (Was Red) */
  --mw-warning: #ffd700;
  /* Gold (Was Orange) */

  --mw-water-color: rgba(0, 100, 200, 0.25);
  /* Distinct Water */

  --mw-text-glow: 0 0 10px rgba(0, 243, 255, 0.5);
  --mw-border-glow: 0 0 8px rgba(0, 243, 255, 0.3);

  --font-display: 'Orbitron', sans-serif;
  --font-ui: 'Rajdhani', sans-serif;
  --font-mono: 'Share Tech Mono', monospace;

  /* --- Legacy Variable Mapping for Components --- */
  --color-surface: var(--mw-bg-panel);
  --color-border: var(--mw-border-color);

  --color-text-primary: #e0e0e0;
  --color-text-secondary: #a0a0a0;

  --color-primary: var(--mw-primary);
  --color-secondary: var(--mw-secondary);
  --color-accent: var(--mw-warning);
  --color-error: var(--mw-alert);

  --color-red-light: #ffaaaa;
  --color-blue-light: #aaddff;

  --radius-sm: 2px;
  --radius-md: 4px;
  --radius-lg: 4px;
  --radius-xl: 8px;

  --spacing-xs: 4px;
  --spacing-sm: 8px;
  --spacing-md: 16px;
  --spacing-lg: 24px;
  --spacing-xl: 32px;

  --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.5);
  --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.5);
  --shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.5);
  --shadow-xl: 0 20px 25px rgba(0, 0, 0, 0.5);

  --transition-base: 0.2s ease;
  --transition-slow: 0.3s ease;

  /* --- Layout Overrides for Dark Theme --- */
  --app-bg: var(--mw-bg-dark);
  --nav-bg: var(--mw-bg-panel);
  --nav-border: var(--mw-border-color);
  --nav-text: #e0e0e0;
  --nav-link-text: #a0a0a0;
  --nav-link-hover: var(--mw-primary);
  --color-bg-base: var(--mw-bg-dark);
}

/* Global resets/overrides for the app when this theme is active */
body {
  background-color: var(--mw-bg-dark);
  color: #e0e0e0;
  font-family: var(--font-ui);
}

/* --- Board Background --- */
/* --- Board Background --- */
cg-background {
  background-color: #eeedef;
  background-image: url('data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgoKPHN2ZwogICB3aWR0aD0iNzIwbW0iCiAgIGhlaWdodD0iNzgwbW0iCiAgIHZpZXdCb3g9IjAgMCA3MjAgNzgwIgogICB2ZXJzaW9uPSIxLjEiCiAgIGlkPSJzdmcxIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgogIDxkZWZzCiAgICAgaWQ9ImRlZnMxIiAvPgogIDxyZWN0CiAgICAgc3R5bGU9Im9wYWNpdHk6MTtmaWxsOm5vbmU7ZmlsbC1vcGFjaXR5OjAuOTk1ODY2O2ZpbGwtcnVsZTpldmVub2RkO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDowO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1kYXNob2Zmc2V0OjA7cGFpbnQtb3JkZXI6bWFya2VycyBmaWxsIHN0cm9rZSIKICAgICBpZD0icmVjdDciCiAgICAgd2lkdGg9IjcyMCIKICAgICBoZWlnaHQ9Ijc4MCIKICAgICB4PSItMi41NDIzNDY3ZS0wNSIKICAgICB5PSItMS45NTY3MzI0ZS0wNyIgLz4KICA8ZwogICAgIGlkPSJsYXllcjQiCiAgICAgc3R5bGU9InN0cm9rZS13aWR0aDowLjU7c3Ryb2tlLWRhc2hhcnJheTpub25lIgogICAgIHRyYW5zZm9ybT0idHJhbnNsYXRlKDg5OS43MjIyNiwzMDAuMDcyNDIpIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZGlzcGxheTppbmxpbmU7ZmlsbDojMjIyODBiO2ZpbGwtb3BhY2l0eTowLjk5NTg2NjtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MC41O3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2UtZGFzaG9mZnNldDo2LjA1NzM3IgogICAgICAgaWQ9InJlY3QzIgogICAgICAgd2lkdGg9IjU5OS40Mjk2MyIKICAgICAgIGhlaWdodD0iNjU5LjQyOTYzIgogICAgICAgeD0iLTg4Ny44MzU2OSIKICAgICAgIHk9Ii0xNTQuMjQ2NTQiCiAgICAgICBkPSJtIC04ODcuODM1NjksLTE1NC4yNDY1NCBoIDU5OS40Mjk2MiB2IDY1OS40Mjk2MyBoIC01OTkuNDI5NjIgeiIKICAgICAgIHRyYW5zZm9ybT0ibWF0cml4KDEuMDE2Nzg2MiwwLDAsMS4wMTUyNjI2LDU4LjM0Nzg1OCwtODguMzk3NjY4KSIgLz4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDojMDBhYWQ0O2ZpbGwtb3BhY2l0eTowLjk5NTg2NjtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MC41O3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2UtZGFzaG9mZnNldDo2LjA1NzM3IgogICAgICAgaWQ9InBhdGg2IgogICAgICAgd2lkdGg9IjU5OS40Mjk2MyIKICAgICAgIGhlaWdodD0iNjU5LjQyOTYzIgogICAgICAgeD0iLTg4Ny44MzU2OSIKICAgICAgIHk9Ii0xNTQuMjQ2NTQiCiAgICAgICB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0OC42Mjk0NTQsLTg1LjQ5ODQxOSkiCiAgICAgICBkPSJtIC04ODcuODM1NjksLTE1NC4yNDY1NCBoIDU5OS40Mjk2MiB2IDY1OS40Mjk2MyBoIC01OTkuNDI5NjIgeiIgLz4KICA8L2c+CiAgPGcKICAgICBpZD0ibGF5ZXIyIgogICAgIHN0eWxlPSJzdHJva2Utd2lkdGg6MC41O3N0cm9rZS1kYXNoYXJyYXk6bm9uZSIKICAgICB0cmFuc2Zvcm09InRyYW5zbGF0ZSg4OTkuNzIyMjYsMzAwLjA3MjQyKSI+CiAgICA8cmVjdAogICAgICAgc3R5bGU9ImZpbGw6I2RiZTNlMjtmaWxsLW9wYWNpdHk6MC45OTU4NjY7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjAuNTtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2UtZGFzaG9mZnNldDo2LjA1NzM3O3BhaW50LW9yZGVyOm1hcmtlcnMgZmlsbCBzdHJva2UiCiAgICAgICBpZD0icmVjdDIiCiAgICAgICB3aWR0aD0iNDc5LjQxNTU2IgogICAgICAgaGVpZ2h0PSIyOTkuNDE1NTYiCiAgICAgICB4PSItNzE5LjE4MTI3IgogICAgICAgeT0iMTIwLjEyMTA5IiAvPgogICAgPHJlY3QKICAgICAgIHN0eWxlPSJmaWxsOiNkYmUzZTI7ZmlsbC1vcGFjaXR5OjAuOTk1ODY2O2ZpbGwtcnVsZTpldmVub2RkO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDowLjU7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1kYXNob2Zmc2V0OjYuMDU3MzciCiAgICAgICBpZD0icmVjdDQiCiAgICAgICB3aWR0aD0iNDc5LjQxNTU2IgogICAgICAgaGVpZ2h0PSIyOTkuNDE1NTYiCiAgICAgICB4PSItNzE5LjM3NjI4IgogICAgICAgeT0iLTIzOS41NDI5MiIgLz4KICA8L2c+CiAgPGcKICAgICBpZD0ibGF5ZXIzIgogICAgIHRyYW5zZm9ybT0idHJhbnNsYXRlKDg5OS43MjIyNiwzMDAuMDcyNDIpIj4KICAgIDxyZWN0CiAgICAgICBzdHlsZT0ib3BhY2l0eToxO2ZpbGw6bm9uZTtmaWxsLW9wYWNpdHk6MC45OTU4NjY7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjAuNDkzO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1kYXNoYXJyYXk6Mi45NTc5OSwgMi45NTc5OTtzdHJva2UtZGFzaG9mZnNldDowIgogICAgICAgaWQ9InJlY3Q1IgogICAgICAgd2lkdGg9IjQuNzk2MzMzMyIKICAgICAgIGhlaWdodD0iNTUuMjU0Mzc5IgogICAgICAgeD0iLTU0MS42OTA4IgogICAgICAgeT0iNjIuMjE1MTgzIiAvPgogICAgPHJlY3QKICAgICAgIHN0eWxlPSJvcGFjaXR5OjE7ZmlsbDpub25lO2ZpbGwtb3BhY2l0eTowLjk5NTg2NjtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MC40OTM7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7c3Ryb2tlLWRhc2hhcnJheToyLjk1Nzk5LCAyLjk1Nzk5O3N0cm9rZS1kYXNob2Zmc2V0OjAiCiAgICAgICBpZD0icmVjdDYiCiAgICAgICB3aWR0aD0iNC43OTYzMzMzIgogICAgICAgaGVpZ2h0PSI1NS4yNTQzNzkiCiAgICAgICB4PSItNDIyLjE5NzYzIgogICAgICAgeT0iNjIuMDk2MjU2IiAvPgogIDwvZz4KICA8ZwogICAgIGlkPSJsYXllcjUiCiAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoODk5LjcyMjI2LDMwMC4wNzI0MikiPgogICAgPGcKICAgICAgIGlkPSJsYXllcjEiCiAgICAgICB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0OC42Mjk0NTQsLTg2LjAyNzU4NikiPgogICAgICA8cGF0aAogICAgICAgICBzdHlsZT0iZmlsbDojOWQ5ZDlkO2ZpbGwtb3BhY2l0eTowLjk5NTg2NjtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MC40OTc1NjM7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1kYXNob2Zmc2V0OjYuMDU3MzciCiAgICAgICAgIGlkPSJyZWN0MSIKICAgICAgICAgd2lkdGg9IjU5LjY3NjY5MyIKICAgICAgICAgaGVpZ2h0PSI1OS42NzY2OTMiCiAgICAgICAgIHg9IjYwLjE2MTY1MiIKICAgICAgICAgeT0iNjAuMTYxNjUyIgogICAgICAgICB0cmFuc2Zvcm09Im1hdHJpeCgxLjAwNDg3MzMsMCwwLDEuMDA0OTIzOSwtNDA4Ljc4MjU3LC0yMTQuMjM0OTIpIgogICAgICAgICBkPSJtIDExOS44MzgzNCw2MC4xNjE2NTIgaCAtNTk2Ljc2NjkzIG0gNTk2Ljc2NjkzLDU5LjY3NjY4OCBoIC01OTYuNzY2OTMgbSA1OTYuNzY2OTMsNTkuNjc2NyBoIC01OTYuNzY2OTMgbSA1OTYuNzY2OTMsNTkuNjc2NjkgaCAtNTk2Ljc2NjkzIG0gNTk2Ljc2NjkzLDU5LjY3NjY5IGggLTU5Ni43NjY5MyBtIDU5Ni43NjY5Myw1OS42NzY3IGggLTU5Ni43NjY5MyBtIDU5Ni43NjY5Myw1OS42NzY2OSBoIC01OTYuNzY2OTMgbSA1OTYuNzY2OTMsNTkuNjc2NjkgaCAtNTk2Ljc2NjkzIG0gNTk2Ljc2NjkzLDU5LjY3NjcgaCAtNTk2Ljc2NjkzIG0gNTk2Ljc2NjkzLDU5LjY3NjY5IGggLTU5Ni43NjY5MyBtIDU5Ni43NjY5Myw1OS42NzY2OSBoIC01OTYuNzY2OTMgbSA1OTYuNzY2OTMsNTkuNjc2NjkgSCAtNDc2LjkyODU5IE0gMTE5LjgzODM0LDYwLjE2MTY1MiBWIDcxNi42MDUyNyBNIDYwLjE2MTY1Miw2MC4xNjE2NTIgViA3MTYuNjA1MjcgTSAwLjQ4NDk1ODY1LDYwLjE2MTY1MiBWIDcxNi42MDUyNyBNIC01OS4xOTE3MzQsNjAuMTYxNjUyIFYgNzE2LjYwNTI3IE0gLTExOC44Njg0Myw2MC4xNjE2NTIgViA3MTYuNjA1MjcgTSAtMTc4LjU0NTEyLDYwLjE2MTY1MiBWIDcxNi42MDUyNyBNIC0yMzguMjIxODEsNjAuMTYxNjUyIFYgNzE2LjYwNTI3IE0gLTI5Ny44OTg1MSw2MC4xNjE2NTIgViA3MTYuNjA1MjcgTSAtMzU3LjU3NTIsNjAuMTYxNjUyIFYgNzE2LjYwNTI3IE0gLTQxNy4yNTE4OSw2MC4xNjE2NTIgViA3MTYuNjA1MjcgTSAtNDc2LjkyODU5LDYwLjE2MTY1MiBWIDcxNi42MDUyNyIgLz4KICAgIDwvZz4KICA8L2c+Cjwvc3ZnPgo=');

  background-size: cover;

  /* Modern Warfare Filter: Darken + Cyan Tint */
  /* Reduced contrast slightly and shifted hue to match slate bg */
  filter: invert(100%) hue-rotate(190deg) brightness(0.65) contrast(1.1) sepia(40%) saturate(150%);

  box-shadow: inset 0 0 100px rgba(0, 0, 0, 0.9);
  border: none;
}

/* Heroic Piece Branding */
.cg-wrap piece.heroic {
  /* Heroic Gold/Solar Aura */
  filter: drop-shadow(0 0 10px rgba(255, 215, 0, 0.6)) brightness(1.2) contrast(1.1);
  /* Do NOT override z-index here, let render.ts handle depth sorting */
}

/* Red Team Heroic Override */
.cg-wrap piece.heroic[class*='red'] {
  filter: drop-shadow(0 0 10px rgba(255, 171, 0, 0.7)) hue-rotate(45deg) brightness(1.3);
}

cg-piece-star {
  position: absolute;
  right: -5%;
  bottom: -5%;
  width: 35%;
  height: 35%;
  min-width: 16px;
  /* Minimum size for visibility on small screens */
  min-height: 16px;

  background-color: rgba(15, 23, 42, 0.9);
  border: 1px solid var(--mw-warning);
  border-radius: 50%;
  box-shadow: 0 0 8px var(--mw-warning);

  /* Tactical Star / Chevron Icon */
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23ffd700'%3E%3Cpath d='M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z' stroke='%23eebb00' stroke-width='1.5' stroke-linejoin='round'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: center;
  background-size: 70%;

  z-index: 10;

  animation: pulse-badge 2s infinite ease-in-out;
}

@keyframes pulse-badge {
  0% {
    transform: scale(1);
    box-shadow: 0 0 5px var(--mw-warning);
  }

  50% {
    transform: scale(1.15);
    box-shadow: 0 0 12px var(--mw-warning);
    border-color: #fff;
  }

  100% {
    transform: scale(1);
    box-shadow: 0 0 5px var(--mw-warning);
  }
}

cg-board cg-btn.piece-attack.stay {
  background-color: var(--mw-secondary);
  border: 1px solid #fff;
  box-shadow: 0 0 10px var(--mw-secondary);
  background-image: url('data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDI2LjQuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCA1NjYuOTMgNTY2LjkzIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1NjYuOTMgNTY2LjkzOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxnPgoJPHBhdGggZD0iTTI4Ni44MSwxNTguMDNjMjIuNzksMi42Nyw0MC41NCwxMy41LDUzLjU4LDMyLjQzYzkuNTYsMTMuODksMTkuNTUsMjcuNDgsMjkuMzIsNDEuMjIKCQljMjguMTIsMzkuNTIsNTYuOTQsNzguNTcsODQuMTgsMTE4LjY5YzMzLjIzLDQ4Ljk2LDEyLjQsMTE5LjcyLTQxLjM3LDE0NC4yMmMtNDYuMDEsMjAuOTYtOTYuMjEsNy41Ny0xMjUuOS0zMy44NwoJCWMtMzYuODYtNTEuNDQtNzMuNTYtMTAzLTExMC4xNy0xNTQuNjJjLTMuOC01LjM2LTcuMDYtMTEuMjUtOS42Mi0xNy4yOWMtNi4yNy0xNC44MS02LjMyLTMwLjE4LTIuNDMtNDYuMjkKCQljLTEwLjg0LDIuMTQtMjEuMiw0LjA1LTMxLjQ5LDYuMjljLTQuMjYsMC45My02Ljk1LTAuMDYtOS41Ni0zLjc2Yy0xOS40My0yNy41Ni0zOS4wOS01NC45Ny01OC42NS04Mi40NQoJCWMtNC4yMy01Ljk0LTMuMzEtOC4yMiwzLjc4LTkuMzRjMjQuODUtMy45Myw0OS43Mi03Ljc0LDc0LjU1LTExLjgxYzMuOTgtMC42NSw2LjI1LDAuNTQsOC40OSwzLjc0CgkJYzEyLjMsMTcuNTIsMjQuOCwzNC45MSwzNy4yMyw1Mi4zNGMxLjE4LDEuNjYsMi4zNiwzLjMyLDMuNzQsNS4yNGMyLjgxLTIsNS4xNy0zLjY5LDguMDItNS43MmMtMS41Mi0yLjEzLTIuODEtMy45NC00LjEtNS43NQoJCWMtMjEuNDUtMzAuMDktNDIuODYtNjAuMi02NC4zOS05MC4yM2MtMy42My01LjA2LTUuNjctMTAuMzItMy45My0xNi40NmMxLjkxLTYuNzQsNi4yNi0xMS4yNCwxMy4yOC0xMi41CgkJYzcuNjItMS4zNiwxMy42NCwxLjM0LDE4LjE3LDcuNzNjMjEuNzMsMzAuNTgsNDMuNTQsNjEuMTEsNjUuMzIsOTEuNjVjMS4yNywxLjc4LDIuNTMsMy41NSwzLjgyLDUuMzYKCQljMy4wOS0yLjIsNS40NS0zLjg5LDguMDQtNS43NGMtMTMuOC0xOS4zNi0yNy4yNi0zOC4zOC00MC45Mi01Ny4yNWMtMi40Mi0zLjM0LTIuOC02LTAuNzctOS43NQoJCWMxMS45Ni0yMi4xMywyMy42NS00NC40MSwzNS40OC02Ni42MWMzLjE4LTUuOTYsNS43NS02LjA4LDkuNzgtMC40NGMxOS43MSwyNy42LDM5LjMzLDU1LjI3LDU5LjE1LDgyLjc5CgkJYzIuNTEsMy40OCwyLjUxLDYuMTksMC4zNiw5Ljc0Yy01LjQ5LDkuMDQtMTAuNjYsMTguMjctMTYuMTMsMjcuNzJDMjg1LjAxLDE1Ny42MywyODUuOSwxNTcuOTMsMjg2LjgxLDE1OC4wM3ogTTMwMS42NSw0NjcuNjUKCQljNTAuMDItMzUuNjYsOTkuNTktNzEuMDEsMTQ5Ljc5LTEwNi43OWMtMzYuODctNTEuNzEtNzMuNzUtMTAzLjQzLTExMC44Mi0xNTUuNDNjLTQ5Ljg2LDM1LjU1LTk5Ljc2LDcxLjEzLTE0OS43OSwxMDYuNzkKCQlDMjI3LjgyLDM2NC4xLDI2NC42MSw0MTUuNywzMDEuNjUsNDY3LjY1eiBNMzM2LjEzLDE5OC4zM2MtMTAuOTgtMTcuODktMjYuMjctMjguODEtNDYuNzUtMzIuMDkKCQljLTIxLjExLTMuMzgtMzguODgsNC4yMi01NS4zMywxNi43NGMtMTMuNjksMTAuNDItMjguMjQsMTkuNzMtNDEuNjYsMzAuNDhjLTI3LjEzLDIxLjcyLTMwLjU3LDY0LjUtNy44NSw5MC42NwoJCWMwLjM1LDAuNCwwLjksMC42NCwxLjYyLDEuMTNDMjM2LDI2OS43MiwyODUuODgsMjM0LjE1LDMzNi4xMywxOTguMzN6IE00MjMuMDksNDc5LjM5YzQxLjM0LTI5LjM0LDQ1LjgzLTgwLjU4LDMxLjUyLTExMC4yMQoJCWMtNDguNTcsMzQuNjMtOTcuMDgsNjkuMjItMTQ1Ljk4LDEwNC4wOEMzMjkuOTIsNDk0LjY5LDM3OS41MSw1MTAuMzMsNDIzLjA5LDQ3OS4zOXogTTIyMi45MSw2OC4zNgoJCWMtNi40NywxMi4xOS0xMy4wMiwyNC4zNC0xOS4yOCwzNi42NGMtMC44MiwxLjYyLTAuOTksNC41OS0wLjA0LDUuOTVjMTIuNzksMTguMzIsMjUuODQsMzYuNDYsMzguODQsNTQuNjQKCQljMC4zMSwwLjQzLDAuODQsMC43MSwwLjE3LDAuMTdjMTAuNDktMi43MiwyMC4xMi01LjE0LDI5LjY3LTcuNzljMS40LTAuMzksMi45LTEuNjgsMy42Ni0yLjk2YzUuMzItOC45MywxMC41Ni0xNy45MSwxNS41NC0yNy4wNAoJCWMwLjc3LTEuNDIsMC44NS00LjE2LTAuMDMtNS40Yy0xOC4xMi0yNS42OS0zNi40Mi01MS4yNC01NC43LTc2LjgyYy0wLjE4LTAuMjUtMC41OS0wLjM0LTEuMzYtMC43NQoJCUMyMzEuMjIsNTIuNzksMjI3LjA1LDYwLjU3LDIyMi45MSw2OC4zNnogTTE2My4yMiwxNzUuMThjLTUuMzktNy41NS0xMC42Ni0xNS4yLTE2LjI2LTIyLjU5Yy0xLjEyLTEuNDgtMy42NS0zLjA3LTUuMjctMi44MwoJCWMtMjIuNjEsMy4zMy00NS4xNyw2Ljk3LTY4LjM4LDEwLjYzYzAuOSwxLjU5LDEuNDcsMi44NiwyLjI3LDMuOThjMTcuMzUsMjQuMzcsMzQuNzUsNDguNzEsNTIuMDQsNzMuMTIKCQljMS44MywyLjU4LDMuNDksMy44NCw2LjkzLDMuMDdjOS43Ny0yLjE5LDE5LjY3LTMuODIsMjkuNDQtNi4wMWMxLjg0LTAuNDEsMy43Ni0yLjA3LDQuOS0zLjY4YzUuNDQtNy42NSwxMC42My0xNS40OCwxNi42Ni0yNC4zNwoJCUMxNzguNTgsMTk2LjcxLDE3MC45LDE4NS45NCwxNjMuMjIsMTc1LjE4eiBNMjIyLjI0LDE4MS43MmMtMS4xNS0xLjg1LTIuMTItMy42MS0zLjI3LTUuMjJjLTIxLjMxLTI5LjkzLTQyLjY0LDI5Ljg0LTYzLjk5LTg5Ljc1CgkJYy0xLjIxLTEuNjktMi40NC0zLjQzLTMuOTYtNC44Yy0zLjU0LTMuMTktNy42My0zLjQtMTEuNDgtMC44MmMtNC4wOCwyLjczLTUuMzUsNi43NC0zLjU2LDExLjQzYzAuNTMsMS4zOSwxLjM3LDIuNywyLjI1LDMuOTMKCQljMjIuMDgsMzEuMDEsNDQuMTgsNjIsNjYuMjksOTIuOTljMC42NCwwLjksMS40MywxLjcxLDIuNTcsMy4wNUMyMTIuMjYsMTg4Ljg0LDIxNi45OSwxODUuNDcsMjIyLjI0LDE4MS43MnoiLz4KCTxwYXRoIGQ9Ik0zMjQuODIsNDAxLjMzYy0wLjY4LDEuOTQtMi45MywzLjMyLTQuNDUsNC45N2MtMS40OS0xLjcxLTMuNjgtMy4xOS00LjM1LTUuMThjLTMuOTMtMTEuNjUtNy43MS0yMy4zNi0xMS4wOC0zNS4xOAoJCWMtMS4xOS00LjE2LTIuODYtNS43Mi03LjMzLTUuNjNjLTEyLjMsMC4yNC0yNC42MiwwLjA0LTM2LjkyLTAuMjhjLTIuMTYtMC4wNi00LjI3LTEuNTktNi40MS0yLjQ0YzEuMjQtMi4wOSwxLjk5LTQuODMsMy43OS02LjE3CgkJYzkuODYtNy4zNywxOS44OC0xNC41NCwzMC4wNi0yMS40OGMzLjMzLTIuMjcsNC4yOS00LjI3LDIuOTItOC4yOGMtNC4wNi0xMS44LTcuNzUtMjMuNzMtMTEuMjgtMzUuNzEKCQljLTAuNTgtMS45OCwwLjQyLTQuNDMsMC43LTYuNjdjMi4yLDAuNDksNC44MiwwLjM4LDYuNTIsMS41OGM5Ljg4LDYuOTksMTkuNjcsMTQuMTIsMjkuMiwyMS41OGMzLjY1LDIuODYsNi4xNywzLjM3LDEwLjEzLDAuMzIKCQljOS42MS03LjM5LDE5LjU4LTE0LjMyLDI5LjYxLTIxLjEyYzEuODUtMS4yNiw0LjY5LTEuMDcsNy4wNy0xLjU1YzAuMDksMi4yOSwwLjgsNC43OCwwLjE1LDYuODQKCQljLTMuNjMsMTEuNTYtNy4zNCwyMy4xMS0xMS41NiwzNC40N2MtMS43Miw0LjYyLTAuNyw2Ljk2LDMuMjMsOS42N2M5LjgxLDYuNzYsMTkuMzMsMTMuOTUsMjguNzUsMjEuMjQKCQljMS44MSwxLjQsMi42NCw0LjA2LDMuOTIsNi4xNGMtMi4yNCwwLjktNC40NywyLjU3LTYuNzIsMi41OWMtMTMuOTksMC4xMy0yNy45OC0wLjEtNDIuMjQtMC4yMgoJCUMzMzMuOTQsMzc0LjQ5LDMyOS41NCwzODcuOTcsMzI0LjgyLDQwMS4zM3ogTTMzMC45OSwzNTguNTVjMS4yNy00LjEsMy4zNC01Ljc2LDcuNzItNS42MWMxMC4zOCwwLjM2LDIwLjc4LDAuMjcsMzEuNzctMC42OAoJCWMtMy45My0yLjkyLTcuODctNS44Mi0xMS44LTguNzVjLTQuNTUtMy4zOS04Ljk2LTYuOTgtMTMuNjctMTAuMTJjLTMuNDUtMi4zMS00LjEtNC44My0yLjczLTguNjZjMy40OS05Ljc5LDYuNjYtMTkuNjgsOS4xNi0zMC40NwoJCWMtNC45NSwzLjUzLTkuOSw3LjA1LTE0Ljg0LDEwLjU4Yy0xNS4zMiwxMC45Mi0xNS4zMiwxMC45Mi0zMC42Mi0wLjM3Yy00Ljc5LTMuNTQtOS41OS03LjA2LTE1LjQxLTkuOTEKCQljMi45OSw5LjYzLDUuNzIsMTkuMzQsOS4wNywyOC44NGMxLjY5LDQuOCwwLjcxLDcuNjMtMy41LDEwLjQxYy04LjM1LDUuNTMtMTYuMzcsMTEuNTUtMjQuNDEsMTguNTUKCQljNS44NywwLjA4LDExLjc0LDAuMDMsMTcuNiwwLjI2YzYuMzUsMC4yNSwxNC4yMS0xLjM4LDE4LjU5LDEuNzZjNC4xNSwyLjk3LDQuNzQsMTEuMDIsNi43NCwxNi44OWMxLjg3LDUuNTEsMy41MywxMS4xLDUuMjksMTYuNjVjMC40LDAuMDYsMC43OSwwLjEyLDEuMTksMC4xOEMzMjQuNDUsMzc4LjI3LDMyNy45MiwzNjguNDcsMzMwLjk5LDM1OC41NXoiLz4KPC9nPgo8L3N2Zz4K');
}

cg-board cg-btn.piece-attack.normal {
  background-color: var(--mw-alert);
  border: 1px solid #fff;
  box-shadow: 0 0 10px var(--mw-alert);
  background-image: url('data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDI2LjQuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCA1NjYuOTMgNTY2LjkzIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1NjYuOTMgNTY2LjkzOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxwYXRoIGQ9Ik00NzkuNTksNjQuMzZjNC4yNywwLDguNTQsMCwxMi44MiwwYzcuNjMsMy40OSw5Ljk0LDkuNTMsOS40LDE3LjY0Yy0xLjY5LDI1LjM2LTkuNjIsNDguNDktMjYuNjcsNjcuMzYKCWMtMTYuNjgsMTguNDYtMzQuNzgsMzUuNjUtNTIuMzgsNTMuMjdjLTIuNDMsMi40My0zLjMyLDQuODQtMy4zMiw4LjIxYzAuMDksNjYuMTksMC4xMiwxMzIuMzgsMC4wNCwxOTguNTgKCWMtMC4wNCwzNi40MS0xNC4zMiw2NS45MS00My41OSw4Ny44M2MtOS4wNSw2Ljc4LTE0LjA0LDYuMjQtMjEuOTgtMS43Yy0zNi4zNC0zNi4zNC03Mi42Ny03Mi42Ny0xMDkuMDEtMTA5LjAxCgljLTEuMDMtMS4wMy0yLjExLTItMy44My0zLjYxYzAsMi42MywwLDQuMTksMCw1Ljc0YzAsMjMuNDktMC4wNSw0Ni45OCwwLjA0LDcwLjQ2YzAuMDIsNS4xNS0xLjU4LDkuMzQtNS4zMSwxMi45NwoJYy04LjA2LDcuODQtMTUuOTMsMTUuODgtMjMuODksMjMuODJjLTcuOTMsNy45MS0xNC40NCw3LjkxLTIyLjMzLDAuMDJjLTM5LjM2LTM5LjM1LTc4Ljc0LTc4LjY5LTExOC4wMi0xMTguMTIKCWMtMi43NS0yLjc2LTQuODEtNi4xOS03LjE5LTkuMzFjMC0xLjk5LDAtMy45OSwwLTUuOThjMi4yNS0zLjA0LDQuMjEtNi4zNyw2LjgxLTkuMDhjNy4yOC03LjYsMTQuOTYtMTQuODEsMjIuMjItMjIuNDMKCWM0LjAyLTQuMjIsOC41OS02LjAzLDE0LjM5LTZjMjMuMzIsMC4xNSw0Ni42NSwwLjA2LDY5Ljk4LDAuMDZjMS41LDAsMywwLDUuNDIsMGMtMS42OC0xLjgxLTIuNjYtMi45NS0zLjcyLTQuMDEKCWMtMzYuMS0zNi4xMS03Mi4yMy03Mi4xOS0xMDguMjYtMTA4LjM3Yy0yLjY1LTIuNjYtNC41Ny02LjA1LTYuODMtOS4xYzAtMS45OSwwLTMuOTksMC01Ljk4YzEuMjItMi4wNiwyLjI4LTQuMjQsMy42OS02LjE2CgljMjEuODktMjkuOTMsNTEuNTUtNDQuNzIsODguNDktNDQuNzhjNjYuMzQtMC4xMSwxMzIuNjgtMC4wNSwxOTkuMDIsMC4wM2MzLjIxLDAsNS41NC0wLjgzLDcuODUtMy4xNgoJYzE1LjgxLTE1Ljk5LDMxLjY2LTMxLjk2LDQ3LjcyLTQ3LjdjMTMuNTctMTMuMywyOS43LTIyLjQxLDQ4LjA3LTI3LjNDNDY1LjksNjYuNzgsNDcyLjc5LDY1Ljc0LDQ3OS41OSw2NC4zNnogTTMzMy4wNCwxNzIuNDUKCWMtMC43NS0wLjA0LTEuODMtMC4xNC0yLjkxLTAuMTRjLTU4LjM2LTAuMDEtMTE2LjcxLTAuMTctMTc1LjA3LDAuMTdjLTguNTUsMC4wNS0xNy4zLDEuNjctMjUuNTcsMy45OAoJYy0xMy45NywzLjkyLTI1LjU3LDEyLjA0LTM0LjgyLDIyLjZjMzUuNjMsMzUuNjMsNzEuMDEsNzEuMDEsMTA1Ljg3LDEwNS44OEMyNDQuNTMsMjYwLjk2LDI4OC43NiwyMTYuNzMsMzMzLjA0LDE3Mi40NXoKCSBNMzkzLjg3LDIzMi45NGMtNDQuNiw0NC42MS04OC44Myw4OC44NC0xMzIuODgsMTMyLjg5YzM0Ljk5LDM1LDcwLjMxLDcwLjMzLDEwNS43MywxMDUuNzZjMC4zLTAuMjEsMC44MS0wLjQ3LDEuMjEtMC44NQoJYzEuMDUtMC45NiwyLjEtMS45MywzLjA5LTIuOTVjMTUuNTktMTYuMTksMjIuODctMzUuNjQsMjIuODYtNThjLTAuMDQtNTcuNTItMC4wMS0xMTUuMDQtMC4wMS0xNzIuNTUKCUMzOTMuODcsMjM1Ljg2LDM5My44NywyMzQuNDgsMzkzLjg3LDIzMi45NHogTTQ3NS4xOCw5MS4zMmMtMi40NSwwLjQxLTMuOTYsMC41OC01LjQzLDAuOTJjLTE2Ljk2LDMuODktMzEuMjcsMTIuMzYtNDMuNTUsMjQuNjYKCWMtNjkuNSw2OS42LTEzOS4wOCwxMzkuMTMtMjA4LjY0LDIwOC42N2MtNi4zNCw2LjM0LTUuNDcsMTguNDUsMS43NSwyNC4wMmM2LjA4LDQuNjksMTYuMjQsNC4wOCwyMS42Mi0xLjI5CgljMy4wMi0zLjAyLDYuMDQtNi4wNCw5LjA2LTkuMDZjNjYuNTQtNjYuNTMsMTMzLjA2LTEzMy4wNiwxOTkuNjItMTk5LjU3YzkuOTMtOS45MiwxNy40Mi0yMS4zNSwyMS44Ny0zNC42OQoJQzQ3Mi44OCwxMDAuNzUsNDczLjgzLDk2LjM3LDQ3NS4xOCw5MS4zMnogTTIwMS4yNSw0NzAuNWM0LjE4LTQuMjMsOC42NC04LjYxLDEyLjktMTMuMTdjMC44My0wLjksMS4yMy0yLjUzLDEuMjMtMy44MwoJYzAuMDctMjQuNzcsMC4wOS00OS41My0wLjA2LTc0LjNjLTAuMDEtMS4zNi0xLjM2LTMuMzgtMi42MS0zLjk1Yy0xMC4wNC00LjU3LTE3LjI1LTExLjc5LTIxLjgzLTIxLjgyCgljLTAuNTctMS4yNC0yLjU5LTIuNTktMy45NC0yLjZjLTI0Ljc2LTAuMTYtNDkuNTMtMC4xMy03NC4zLTAuMDdjLTEuMTksMC0yLjcyLDAuMjItMy41MiwwLjk2Yy00LjY5LDQuMzMtOS4yMiw4Ljg0LTEzLjU0LDEzLjA0CglDMTMwLjk4LDQwMC4yMSwxNjUuOTYsNDM1LjIsMjAxLjI1LDQ3MC41eiIvPgo8L3N2Zz4K');
}

cg-board cg-btn.cancel-stack-move {
  background-color: rgba(255, 80, 0, 0.15);
  border: 1px solid var(--mw-alert);
  box-shadow: inset 0 0 15px rgba(255, 80, 0, 0.2);
  /* X Icon - Amber/Orange */
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='%23ffab00' stroke-width='3' stroke-linecap='round' stroke-linejoin='round'%3E%3Cline x1='18' y1='6' x2='6' y2='18'%3E%3C/line%3E%3Cline x1='6' y1='6' x2='18' y2='18'%3E%3C/line%3E%3C/svg%3E");
  background-size: 60%;
  background-repeat: no-repeat;
  background-position: center;
  backdrop-filter: blur(4px);
  transition: all 0.2s ease;
}

cg-board cg-btn.cancel-stack-move:hover {
  background-color: rgba(255, 80, 0, 0.25);
  box-shadow: 0 0 15px var(--mw-alert);
  transform: scale(1.05);
}

cg-board cg-btn.complete-stack-move {
  background-color: rgba(0, 255, 65, 0.15);
  border: 1px solid var(--mw-secondary);
  box-shadow: inset 0 0 15px rgba(0, 255, 65, 0.2);
  /* Checkmark Icon - Neon Green */
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='%2300ff41' stroke-width='3' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='20 6 9 17 4 12'%3E%3C/polyline%3E%3C/svg%3E");
  background-size: 60%;
  background-repeat: no-repeat;
  background-position: center;
  backdrop-filter: blur(4px);
  transition: all 0.2s ease;
}

cg-board cg-btn.complete-stack-move:hover {
  background-color: rgba(0, 255, 65, 0.25);
  box-shadow: 0 0 15px var(--mw-secondary);
  transform: scale(1.05);
}

/* Add coordinate markers on the grid (simulated) */
cg-background::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  border: 2px solid var(--mw-border-color);
  box-shadow: 0 0 20px var(--mw-primary-dim);
  pointer-events: none;
}

/* --- Interactive Elements --- */

/* Destination Markers */
cg-board square.move-dest {
  /* Crosshair style */
  background:
    linear-gradient(to right, var(--mw-primary) 2px, transparent 2px) 50% 50% / 14px 2px no-repeat,
    linear-gradient(to bottom, var(--mw-primary) 2px, transparent 2px) 50% 50% / 2px 14px no-repeat;
  opacity: 0.9;
}

cg-board square.move-dest:hover {
  background: radial-gradient(circle, rgba(0, 243, 255, 0.3) 0%, transparent 70%);
  box-shadow: inset 0 0 10px var(--mw-primary);
  opacity: 1;
}

/* Capture Targets */
cg-board square.oc.move-dest {
  background:
    linear-gradient(45deg, var(--mw-alert) 2px, transparent 2px) 0 0 / 10px 10px,
    radial-gradient(circle, rgba(255, 171, 0, 0.2) 0%, transparent 70%);
  /* Danger stripes (Amber) */
}

/* Last Move */
cg-board square.last-move.from {
  background-color: rgba(0, 243, 255, 0.1);
  box-shadow: inset 0 0 5px var(--mw-primary);
}

cg-board square.last-move.to {
  background-color: rgba(0, 243, 255, 0.15);
  box-shadow: inset 0 0 10px var(--mw-primary);
  animation: pulse-glow 2s infinite;
}

/* Selected Piece */
cg-board square.selected {
  background-color: rgba(0, 255, 65, 0.15);
  box-shadow: inset 0 0 15px var(--mw-secondary);
  border: 1px solid var(--mw-secondary);
}

/* Check / Danger */
cg-board square.check {
  background: radial-gradient(circle, rgba(255, 171, 0, 0.6) 0%, transparent 70%);
  animation: alarm-pulse 1s infinite alternate;
}

/* --- Deploy Mode --- */
cg-board square.deploy-origin {
  background-color: rgba(255, 174, 0, 0.1);
  border: 1px dashed var(--mw-warning);
}

cg-board square.deploy-dest {
  background-color: rgba(0, 255, 65, 0.1);
  border: 1px dashed var(--mw-secondary);
}

cg-board square.deploy-incomplete {
  box-shadow: inset 0 0 20px rgba(255, 174, 0, 0.3);
  animation: pulse-deploy-mw 1.5s ease-in-out infinite;
}

/* --- Air Defense (Radar Zones) --- */

@keyframes radar-scan {
  0% {
    transform: translate(-50%, -50%) rotate(0deg);
  }

  100% {
    transform: translate(-50%, -50%) rotate(360deg);
  }
}

/* Base styles for all influence markers */
cg-board square.air-defense-influence {
  z-index: 3;
  --overlap-intensity: 1;
}

/* Radar Ring (Outer) */
cg-board square.air-defense-influence::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 70%;
  height: 70%;
  transform: translate(-50%, -50%);
  border: 1px solid currentColor;
  border-radius: 50%;
  opacity: 0.4;
  box-shadow: 0 0 4px currentColor;
  z-index: 9;
  pointer-events: none;
}

/* Radar Sweep (Scanning) */
cg-board square.air-defense-influence::after {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 68%;
  height: 68%;
  transform: translate(-50%, -50%);
  border-radius: 50%;
  /* Center dot + sweep gradient */
  background:
    radial-gradient(circle at center, currentColor 2px, transparent 2.5px),
    conic-gradient(from 0deg, transparent 0deg, transparent 270deg, currentColor 360deg);
  opacity: 0.3;
  z-index: 9;
  pointer-events: none;
  animation: radar-scan 2.5s linear infinite;
}

/* Overlapping zones get more intense */
cg-board square.air-defense-influence.overlap::before {
  border-width: 2px;
  border-style: dashed;
  opacity: calc(0.5 + (var(--overlap-intensity) * 0.1));
}

cg-board square.air-defense-influence.overlap::after {
  opacity: calc(0.3 + (var(--overlap-intensity) * 0.1));
  animation-duration: 1.5s;
  /* Faster scan for heavy zones */
}

/* Friendly color - Use Theme Cyan */
cg-board square.air-defense-influence.friendly {
  color: var(--mw-primary);
}

cg-board square.air-defense-influence.friendly::before,
cg-board square.air-defense-influence.friendly::after {
  color: inherit;
  /* Ensure pseudo-elements use the parent's color */
}

/* Opponent colors - Use Theme Amber/Warning */
cg-board square.air-defense-influence.opponent {
  color: var(--mw-alert);
}

cg-board square.air-defense-influence.opponent::before,
cg-board square.air-defense-influence.opponent::after {
  color: inherit;
}

/* Overlapping opponent zones - Red */
cg-board square.air-defense-influence.opponent.overlap {
  color: #ff3333;
}

/* --- Piece Styling (Holographic Effect) --- */
/* We want to give them a "digital" look. */
.cg-wrap piece {
  transition:
    transform 0.2s,
    filter 0.2s;
  /* Glow filter */
  filter: drop-shadow(0 0 2px rgba(0, 0, 0, 0.8));
}

/* Blue Team = Cyan/Blue Hologram */
.cg-wrap piece[class*='blue'] {
  /* filter: drop-shadow(0 0 5px #00f3ff) hue-rotate(180deg) saturate(200%); */
  /* This is tricky with pre-colored SVGs. Let's trust the SVG colors but add glow */
  filter: drop-shadow(0 0 4px #00aaff) brightness(1.2) contrast(1.2);
}

/* Red Team becomes Amber Team visually */
.cg-wrap piece[class*='red'] {
  /* Hue rotate Red (0deg) to Amber (~45deg) */
  filter: drop-shadow(0 0 4px #ffab00) hue-rotate(45deg) brightness(1.2) contrast(1.1);
}

.cg-wrap piece:hover {
  transform: translateY(-5px) scale(1.1);
  filter: brightness(1.3) drop-shadow(0 10px 10px rgba(0, 0, 0, 0.5));
  z-index: 100;
}

/* FIX: Disable transitions during drag to prevent lag/floaty feel */
.cg-wrap piece.dragging {
  transition: none !important;
  transform: scale(1.1);
  filter: brightness(1.3) drop-shadow(0 15px 15px rgba(0, 0, 0, 0.6)) !important;
  z-index: 1000;
  cursor: grabbing;
}

/* --- Animations --- */
@keyframes pulse-glow {
  0% {
    box-shadow: inset 0 0 5px var(--mw-primary);
  }

  50% {
    box-shadow: inset 0 0 15px var(--mw-primary);
    background-color: rgba(0, 243, 255, 0.25);
  }

  100% {
    box-shadow: inset 0 0 5px var(--mw-primary);
  }
}

@keyframes alarm-pulse {
  from {
    background-color: rgba(255, 171, 0, 0.4);
  }

  to {
    background-color: rgba(255, 171, 0, 0.7);
  }
}

@keyframes pulse-deploy-mw {
  0%,
  100% {
    border-color: var(--mw-warning);
  }

  50% {
    border-color: rgba(255, 255, 255, 0.8);
    box-shadow: 0 0 15px var(--mw-warning);
  }
}

/* --- Action Buttons (Attack/Stay) --- */
